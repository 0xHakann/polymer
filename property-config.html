<script>

  Polymer({

    is: 'core-image',

    properties: {

      // Public properties

      propertyName: {   // Information about properties
        type: String,   // Type to use when deserializing attribute
        notify: true,   // Whether or not to send <propertyName>-changed event
        readOnly: true, // Setter is no op, must use private _setPropertyName setter
        value: 'foo',   // Default value; may also be function that returns value
        computed: 'computeFn(dep1, dep2)', // Function that computes this value based on dependencies
        observer: 'propertyChanged' // Function to call upon changed
      },

      src: {
        type: String,
        value: '',
        observer: 'srcChanged'
      },

      preventLoad: {
        type: Boolean,
        value: false
      },

      sizing: {
        type: String,
        value: null
      },

      position: {
        type: String,
        value: 'center'
      },

      preload: {
        type: Boolean,
        value: false
      },

      placeholder: {
        type: String,
        value: null
      },

      fade: {
        type: Boolean,
        value: false
      },

      loaded: {
        type: Boolean,
        notify: true,
        readOnly: true,
        value: false
      },

      loading: {
        type: Boolean,
        notify: true,
        readOnly: true,
        value: false
      },

      width: {
        type: Number,
        value: null,
        observer: 'widthChanged'
      },

      height: {
        type: Number,
        value: null,
        observer: 'heightChanged'
      },

      someObject: {
        type: Object,
        notify: true,
        value: function() { return {}; }
      },

      // Private properties

      imageClassName: {
        computed: 'computeImageClassName(sizing)'
      },

      placeholderClassName: {
        computed: 'computePlaceholderClassName(fade,loaded,preload)'
      },

      placeholderBackgroundUrl: {
        computed: 'computePlaceholderBackgroundUrl(preload,placeholder)'
      },
      
      requiresPreload: {
        computed: 'computeRequiresPreload(preload,loaded)'
      },

      canLoad: {
        computed: 'computeCanLoad(preventLoad,src)'
      }

    },

    observers: {
      'sizing position': 'transformChanged',
      'canLoad preload loaded': 'loadBehaviorChanged',
      'src preload loaded': 'loadStateChanged',
      'items.*': 'itemStuffChanged'
    }

  });

  Polymer({

    properties: {

      propertyName: {   // Information about properties
        type: String,   // Type to use when deserializing attribute
        notify: true,   // Whether or not to send <propertyName>-changed event
        readOnly: true, // Setter is no op, must use private _setPropertyName setter

        value: 'foo',   // Default value; may also be function that returns value
        // value: function(inputs) { return ... },
        // noInitialObserver: true,
        computed: 'computeFn(dep1, dep2)', // Function that computes this value based on dependencies
        observer: 'propertyChanged' // Function to call upon changed
      }

    },

    observers: {
      'dep1 dep2': 'dependenciesChanged',
      'object.path.*': 'pathChanged'
    },

    listeners: {
      'click': 'clickHandler'
    },

    configure: function(inputs) {
      return {
        propertyName: 'default1',
        propertyName2: 'default2'
      };
    }

  });


</script>

