<script>

  Polymer({

    name: 'x-route',

    created: function() {
      this.parseLocation();
      addEventListener('popstate', this.parseLocation.bind(this));
    },

    parseLocation: function() {
      this.route = location.hash.slice(1);
    },

    routeChanged: function(route) {
      if (route !== null) {
        history.replaceState(null, '', '#' + route);
      }
      this.fire('route-change');
    }

  });

</script>
