<style>
  x-drop-button {
    padding: 0 12px;
    font-size: 0.8em;
  }
</style>

<template>

  <content></content>
  <x-icon icon="{{icon}}" size="16"></x-icon>

</template>
<script>

  Polymer({

    name: 'x-drop-button',

    hostAttributes: 'horizontal inline center layout',
    
    published: {
      icon: String,
      halign: String
    },
    
    listeners: {
      click: 'clickAction'
    },
    
    created: function() {
      this.icon = this.icon || 'drop';
    },

    // by default prepends the template, we want append
    /* stampTemplate: function(template) {
      this.root.appendChild(this.instanceTemplate(this._template)); 
    }, */

    popup: function() {
      var overlay = this.$$('x-overlay');
      if (overlay) {
        overlay.open(this.getBoundingClientRect(), true, this.halign);
      }
    },

    clickAction: function(e) {
      this.popup();
    }

  });

</script>