<!--
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!--
`paper-tab` is styled to look like a tab.  It should be used in conjunction with
`paper-tabs`.

Example:

    <paper-tabs selected="0">
      <paper-tab>TAB 1</paper-tab>
      <paper-tab>TAB 2</paper-tab>
      <paper-tab>TAB 3</paper-tab>
    </paper-tabs>
    
Styling tab:

To change the ink color:

    .pink paper-tab::shadow #ink {
      color: #ff4081;
    }

@group Paper Elements
@element paper-tab
@homepage github.io
-->

<link rel="import" href="../paper-ripple.html">

<style>
  
  paper-tab {
    position: relative;
    overflow: hidden;
    cursor: default;
  }
  
  paper-tab .tab-content {
    transition: opacity .1s cubic-bezier(0.4, 0.0, 1, 1), color .1s cubic-bezier(0.4, 0.0, 1, 1);
    height: 100%;
    margin: 0 12px;
  }
  
  .scrollable paper-tab .tab-content {
    margin: 0 24px;
  }
  
  paper-tabs[link] paper-tab .tab-content {
    margin: 0 !important;
  }
  
  .core-narrow #tabsContainer.scrollable paper-tab .tab-content {
    margin: 0 12px;
  }
  
  paper-tab:not([selected]) .tab-content {
    opacity: 0.6;
  }
  
  paper-tab #ink {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    color: #ffff8d;
    pointer-events: none;
  }
  
  paper-tab .tab-content > a {
    height: 100%;
    padding: 0 12px;
    /* flex */
    -ms-flex: 1 1 0.000000001px;
    -webkit-flex: 1;
    flex: 1;
    -webkit-flex-basis: 0.000000001px;
    flex-basis: 0.000000001px;
  }

</style>

<template>

  <div class="tab-content" flex auto horizontal center-center layout>
    <content></content>
  </div>

  <paper-ripple id="ink" initialOpacity="0.95" opacityDecayVelocity="0.98"></paper-ripple>
  
</template>

<script>

  Polymer({

    name: 'paper-tab',

    hostAttributes: 'noink inline horizontal center-center layout',
    role: 'tab',

    /**
     * If true, ink ripple effect is disabled.
     *
     * @attribute noink
     * @type boolean
     * @default false
     */
    noink: false,

    listeners: {
      mousedown: 'downAction',
      mouseup: 'upAction'
    },

    downAction: function(e) {
      if (this.noink || (this.parentElement && this.parentElement.noink)) {
        return;
      }
      this.$.ink.downAction(e);
    },

    upAction: function() {
      this.$.ink.upAction();
    },

    cancelRipple: function() {
      this.$.ink.upAction();
    }

  });

</script>
