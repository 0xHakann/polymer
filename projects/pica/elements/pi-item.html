<style>

  pi-item {
    font-size: 14px;
  }
  pi-item #blurb, pi-item #info {
    padding: 8px;
  }
  pi-item > #thumb {
    height: 50%;
    background-size: cover;
  }
  pi-item #info > span {
    font-size: 12px;
    opacity: 0.8;
  }

</style>

<template>

  <div id="thumb"></div>
  <span flex vertical layout>
    <span id="blurb">{{item.title}}</span>
    <div flex></div>
    <span id="info" horizontal center layout>
      <img flex none src="{{item.icon}}">&nbsp;<span flex>{{item.label}}</span><span flex none>{{item.since}}</span>
    </span>
  </span>

</template>

<script>

Polymer({
  name: 'pi-item',
  hostAttributes: 'vertical inline layout',
  bind: {
    visibility: 'visibilityChanged',
    background: 'backgroundChanged'
  },
  computed: {
    visibility: 'computeVisibility(item)',
    background: 'computeBackground(item)'
  },
  computeVisibility: function(item) {
    return item && Boolean(item.title) ? '' : 'hidden';
  },
  visibilityChanged: function(visibility) {
    this.style.visibility = visibility;
  },
  computeBackground: function(item) {
    return item && item.thumb && 'url(' + item.thumb + ')';
  },
  backgroundChanged: function() {
    this.$.thumb.style.backgroundImage = this.background;
  }
});

</script>
