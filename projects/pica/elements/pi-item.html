<style>

  pi-item {
    width: 210px;
    height: 245px;
    margin: 4px;
    background-color: #fff;
    font-size: 14px;
  }
  pi-item #blurb, pi-item #info {
    padding: 8px;
  }
  pi-item > #thumb {
    background-size: cover;
  }
  pi-item #info > span {
    font-size: 12px;
    opacity: 0.8;
  }

</style>

<template>

  <div id="thumb" flex></div>
  <span flex vertical layout>
    <span id="blurb">{{blurb}}</span>
    <div flex></div>
    <span id="info" horizontal center layout>
      <img flex none src="{{icon}}">&nbsp;<span flex>{{label}}</span><span flex none>{{since}}</span>
    </span>
  </span>

</template>

<script>

Polymer({
  name: 'pi-item',
  hostAttributes: 'vertical inline layout',
  bind: {
    item: 'itemChanged',
    visibility: 'visibilityChanged',
    background: 'backgroundChanged'
  },
  computed: {
    visibility: 'computeVisibility(item)',
    background: 'computeBackground(item)'
  },
  itemChanged: function(item) {
    this.blurb = item.blurb;
    this.label = item.label;
    this.icon = item.icon;
    this.since = item.since;
  },
  computeVisibility: function(item) {
    return item && Boolean(item.blurb) ? '' : 'hidden';
  },
  visibilityChanged: function(visibility) {
    this.style.visibility = visibility;
  },
  computeBackground: function(item) {
    return item && item.thumb && 'url(' + item.thumb + ')';
  },
  backgroundChanged: function() {
    this.$.thumb.style.backgroundImage = this.background;
  }
});

</script>
