<style>

  pi-item {
    width: 210px;
    height: 245px;
    margin: 4px;
    background-color: #fff;
    font-size: 14px;
  }
  pi-item #blurb, pi-item #info {
    padding: 8px;
  }
  pi-item > #thumb {
    background-size: cover;
  }

</style>

<template>

  <div id="thumb" flex></div>
  <span flex vertical layout>
    <span id="blurb"></span>
    <div flex></div>
    <span id="info" horizontal layout>
      <img flex none src="{{icon}}">&nbsp;<span flex>The Verge</span><span flex none>2h</span>
    </span>
  </span>

</template>

<script>

Polymer({
  name: 'pi-item',
  hostAttributes: 'vertical inline layout',
  bind: {
    blurb: 'blurb',
    visibility: 'visibilityChanged',
    background: 'backgroundChanged'
  },
  computed: {
    blurb: 'computeBlurb(item)',
    visibility: 'computeVisibility(item)',
    background: 'computeBackground(item)',
    icon: 'computeIcon(item)'
  },
  computeBlurb: function(item) {
    return item.blurb;
  },
  computeVisibility: function(item) {
    return item && Boolean(item.blurb) ? '' : 'hidden';
  },
  visibilityChanged: function(visibility) {
    this.style.visibility = visibility;
  },
  computeBackground: function(item) {
    return item && item.thumb && 'url(assets/' + item.thumb + ')';
    //return item && item.thumb && 'url(' + item.thumb + ')';
  },
  backgroundChanged: function() {
    this.$.thumb.style.backgroundImage = this.background;
  },
  computeIcon: function(item) {
    return item && item.icon ? 'assets/' + item.icon : '';
  }
});

</script>
