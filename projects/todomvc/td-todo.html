<style>

  td-todo {
    padding: 8px;
  }

  td-todo input[flex] {
    padding: 8px;
    border: none;
  }

</style>

<template>

  <input id="completed" type="checkbox">
  <input id="input" flex placeholder="What to do?">
  &nbsp;<button id="remove">x</button>

</template>

<script>

  Polymer({

    name: 'td-todo',

    hostAttributes: 'horizontal center layout',

    listeners: {
      'completed.change': 'completedChange',
      'remove.click': 'removeAction'
    },

    bind: {
      item: 'itemChanged'
    },

    itemChanged: function(item) {
      if (item) {
        this.renderItem(item);
      }
    },

    renderItem: function(item) {
      this.$.completed.checked = item.completed;
      this.$.input.style.color = item.completed ? 'silver' : '';
      this.$.input.value = item.value;
    },

    completedChange: function(e) {
      this.item.completed = e.target.checked;
      this.fire('item-change');
    },

    removeAction: function() {
      this.fire('item-remove', this.item);
    }

  });

  TdToDo = function(item) {
    var e = document.createElement('td-todo');
    e.item = item;
    return e;
  };

</script>
