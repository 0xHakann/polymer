<link rel="import" href="../../../components/polymer/polymer.html">
<link rel="import" href="../../../components/x-elements/elements.html">

<style>

  x-app {
    display: block;
  }
  
  x-app paper-spinner {
    width: 200px;
    height: 200px;
  }

</style>

<template>

  <paper-spinner id="spinner" active></paper-spinner>
  <x-ajax id="ajax"></x-ajax>

</template>

<script>

  Polymer({

    name: 'x-app',

    hostAttributes: 'vertical layout center-center',

    listeners: {
      'ajax-response': 'ajaxResponse'
    },

    created: function() {
      this.$.ajax.send();
    },

    ajaxResponse: function(e, xhr) {
      this.data = JSON.parse(xhr.responseText);
      this.$.spinner.active = false;
    }

  });

</script>