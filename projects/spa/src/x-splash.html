<link rel="import" href="../../../components/polymer/polymer.html">
<link rel="import" href="../../../components/x-elements/paper-spinner.html">

<style>

  x-splash {
    display: block;
  }
  
  x-splash paper-spinner {
    width: 100px;
    height: 100px;
  }

</style>

<template>

  <paper-spinner id="spinner" active></paper-spinner>

</template>

<script>

  Polymer({

    name: 'x-splash',

    hostAttributes: 'vertical layout center-center',

    created: function() {
      // waste time only for demonstration
      setTimeout(this.lazy.bind(this), 300);
    },

    lazy: function() {
      var l = document.createElement('link');
      l.rel = 'import';
      l.href = 'src/x-app.html';
      l.onload = function() {
        this.$.spinner.remove();
        this.root
          .appendChild(document.createElement('x-app'))
          .setAttribute('fit', '');
      }.bind(this);
      l.onerror = function() {
        alert('fail');
      };
      document.body.appendChild(l);
    }
  });

</script>