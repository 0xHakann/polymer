<link rel="import" href="../../../components/polymer/polymer.html">
<link rel="import" href="../../../components/polymer/data.html">
<link rel="import" href="../../../components/polymer/src/more-features/bind-effects-object.html">
<link rel="import" href="../../../components/x-elements/x-firebase.html">

<template>
  <div><span>{{label}}</span>: <span>{{user.last}}</span>, <span>{{user.first}}</span></div>  
</template>
<script>
  Polymer({
    name: 'x-user',
    published: {
      label: String,
      user: Object
    }
  });
</script>

<template>

  <div>Data-app</div>

  <x-firebase location="https://polymer-demos.firebaseio.com/neoprene/message"
    data="{{message}}"></x-firebase>
  <x-firebase location="https://polymer-demos.firebaseio.com/neoprene/user"
    data="{{user}}" on-data-change="userModified"></x-firebase>

  <div>Message: <span>{{message}}</span></div>
  <x-user label="User" user="{{user}}"></x-user>
  <x-user label="Mentor" user="{{user.mentor}}"></x-user>

</template>

<script>

  Polymer({

    name: 'data-app',

    features: function() {
      this._data.user = {};
      this.defaultFeatures();
    }

  });

</script>
