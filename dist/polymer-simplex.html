<!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<div hidden><script>(function(scope){function withDependencies(task,depends){depends=depends||[];if(!depends.map){depends=[depends]}return task.apply(this,depends.map(marshal))}function module(name,dependsOrFactory,moduleFactory){var module=null;switch(arguments.length){case 0:return;case 2:module=dependsOrFactory.apply(this);break;default:module=withDependencies(moduleFactory,dependsOrFactory);break}modules[name]=module}function marshal(name){return modules[name]}var modules={};if(window.HTMLImports){var using=function(depends,task){HTMLImports.whenImportsReady(function(){withDependencies(task,depends)})}}else{var using=function(depends,task){withDependencies(task,depends)}}scope.marshal=marshal;scope.modulate=module;scope.using=using})(this);</script><script>Object.defineProperty(window,"currentImport",{enumerable:true,configurable:true,get:function(){return(document._currentScript||document.currentScript).ownerDocument}});</script><script>modulate("Base",function(){var Base={addFeature:function(feature,shouldPrepend){this.extend(this,feature)},registerCallback:function(){this.registerFeatures();this.registered()},registered:function(){},createdCallback:function(){this.root=this;this.beforeCreated();this.initFeatures();this.created();this.afterCreated()},beforeCreated:function(){},created:function(){},afterCreated:function(){},attachedCallback:function(){this.isAttached=true;this.attached()},attached:function(){},detachedCallback:function(){this.isAttached=false;this.detached()},detached:function(){},attributeChangedCallback:function(){this.attributeChanged.apply(this,arguments)},attributeChanged:function(){},extend:function(prototype,api){if(prototype&&api){Object.getOwnPropertyNames(api).forEach(function(n){var pd=Object.getOwnPropertyDescriptor(api,n);if(pd){Object.defineProperty(prototype,n,pd)}})}return prototype||api}};return Base});</script><script>modulate("Polymer",["Base"],function(Base){Base.__proto__=HTMLElement.prototype;window.Polymer=function(prototype){prototype.__proto__=Base;prototype.registerCallback();var options={prototype:prototype};if(prototype.extends){options.extends=prototype.extends}document.registerElement(prototype.tag||prototype.name,options);return prototype.constructor};return Polymer});</script></div>

<div hidden><script>using("Base",function(Base){Base.addFeature({_bootMixins:function(){if(this.mixins){this.mixins.forEach(function(m){if(typeof m==="string"){using(m,function(m){Base.extend(prototype,m)})}else{Base.extend(prototype,m)}})}}})});</script></div>
<div hidden><script>using("Base",function(Base){Base.addFeature({_bootExtends:function(){if(this.extends){this.__proto__=this.getExtendedPrototype(this.extends)}},getExtendedPrototype:function(tag){return this.getExtendedNativePrototype(tag)},nativePrototypes:{},getExtendedNativePrototype:function(tag){var p=this.nativePrototypes[tag];if(!p){var np=this.getNativePrototype(tag);p=this.extend(Object.create(np),Base);this.nativePrototypes[tag]=p}return p},getNativePrototype:function(tag){return Object.getPrototypeOf(document.createElement(tag))}})});</script></div>
<div hidden><script>using("Base",function(Base){Base.addFeature({ready:function(){},_bootReady:function(){this._readyListeners=[]},originalAttachedCallback:Base.attachedCallback,attachedCallback:function(){this.originalAttachedCallback();this._checkReady()},_checkReady:function(){if(!this._readied){var host=this.queryHost();if(host&&!host._readied){host._listenReady(this)}else{this._notifyReady()}}},queryHost:function(node){return this.host||this._queryHost(this)},_queryHost:function(node){return node&&(node.host||(node.host=this._queryHost(node.parentNode)))},_listenReady:function(element){this._readyListeners.push(element)},_notifyReady:function(){this._ready();var n$=this._readyListeners;if(n$){for(var i=0,l=n$.length,n;i<l&&(n=n$[i]);i++){n._notifyReady()}}this._readyListeners=null},_ready:function(){this._readied=true;if(this._useContent){this.distributeContent()}this.ready()}})});</script></div>
<div hidden><script>using("Base",function(Base){Base.addFeature({_bootTemplate:function(){var script=document._currentScript||document.currentScript;var prev=script&&script.previousElementSibling;if(prev&&prev.localName==="template"){this._template=prev}},stampTemplate:function(){if(this._template){this._stampTemplate(this._template,this.root);if(window.CustomElements&&CustomElements.upgradeSubtree){CustomElements.upgradeSubtree(this.root)}}},_stampTemplate:function(template,target){var instance=this.instanceTemplate(template);for(var e=instance.firstChild;e;e=e.nextSibling){e.host=this}target.insertBefore(instance,target.firstChild)},instanceTemplate:function(template){return document.importNode(template.content,true)}})});</script></div>
<div hidden><script>using("Base",function(Base){Base.addFeature({isHost:true,_bootContent:function(){this._useContent=this._useContent||this._template&&this._template.content.querySelector("content")},poolContent:function(){if(this._useContent){saveLightChildrenIfNeeded(this);var root=document.createDocumentFragment();root.host=this;this.contentRoot=root;this.root=root;root.isShadowRoot=true}},distributeContent:function(){if(!this.contentRoot){throw Error("poolContent() must be called before distributeContent()")}this._resetLightTree(this.contentRoot);this._poolDistribution(this.contentRoot,this._poolPopulation());this._composeTree(this)},addLightChild:function(node,opt_index){saveLightChildrenIfNeeded(this);if(opt_index===undefined){this.lightChildren.push(node)}else{this.lightChildren.splice(opt_index,0,node)}this.distributeContent()},removeLightChild:function(node){saveLightChildrenIfNeeded(this);var index=this.lightChildren.indexOf(node);if(index<0){throw Error("The node to be removed is not a light child of this node")}this.lightChildren.splice(index,1);this.distributeContent()},elementMatches:function(selector,node){if(node===undefined)node=this;return matchesSelector.call(node,selector)},_poolPopulation:function(){var pool=[];var children=getLightChildren(this);for(var i=0;i<children.length;i++){var child=children[i];if(isInsertionPoint(child)){pool.push.apply(pool,child._distributedNodes)}else{pool.push(child)}}return pool},_resetLightTree:function(node){var children=getLightChildren(node);for(var i=0;i<children.length;i++){var child=children[i];if(isInsertionPoint(child)){child._distributedNodes=[]}else if(child._destinationInsertionPoints){child._destinationInsertionPoints=undefined}this._resetLightTree(child)}},_poolDistribution:function(node,pool){if(node.localName=="content"){var content=node;var anyDistributed=false;for(var i=0;i<pool.length;i++){var node=pool[i];if(!node)continue;if(this._matchesContentSelect(node,content)){distributeNodeInto(node,content);pool[i]=undefined;anyDistributed=true}}if(!anyDistributed){var children=getLightChildren(content);for(var i=0;i<children.length;i++){distributeNodeInto(children[i],content)}}return}var children=getLightChildren(node);for(var i=0;i<children.length;i++){this._poolDistribution(children[i],pool)}},_composeTree:function(node){var children=this._composeNode(node);for(var i=0;i<children.length;i++){var child=children[i];if(!child.contentRoot){this._composeTree(child)}}this._updateChildNodes(node,children)},_composeNode:function(node){var children=[];var lightChildren=getLightChildren(node.contentRoot||node);for(var i=0;i<lightChildren.length;i++){var child=lightChildren[i];if(isInsertionPoint(child)){var distributedNodes=child._distributedNodes;for(var j=0;j<distributedNodes.length;j++){var distributedNode=distributedNodes[j];if(isFinalDestination(child,distributedNode)){children.push(distributedNode)}}}else{children.push(child)}}return children},_updateChildNodes:function(node,children){for(var i=children.length-1,nextNode=null;i>=0;i--){var child=children[i];if(child.parentNode!=node||child.nextSibling!=nextNode){insertBefore(node,child,nextNode)}nextNode=child}var first=children[0];var child=node.firstChild;while(child&&child!=first){var nextNode=child.nextSibling;node.removeChild(child);child=nextNode}},_matchesContentSelect:function(node,contentElement){var select=contentElement.getAttribute("select");if(!select)return true;select=select.trim();if(!select)return true;if(!(node instanceof Element))return false;var validSelectors=/^(:not\()?[*.#[a-zA-Z_|]/;if(!validSelectors.test(select))return false;try{return this.elementMatches(select,node)}catch(ex){return false}}});function distributeNodeInto(child,insertionPoint){insertionPoint._distributedNodes.push(child);var points=child._destinationInsertionPoints;if(!points){child._destinationInsertionPoints=[insertionPoint]}else{points.push(insertionPoint)}}function isFinalDestination(insertionPoint,node){var points=node._destinationInsertionPoints;return points&&points[points.length-1]===insertionPoint}function isInsertionPoint(node){return node.localName=="content"}function getLightChildren(node){var children=node.lightChildren;return children?children:node.childNodes}function insertBefore(parentNode,newChild,refChild){remove(newChild);saveLightChildrenIfNeeded(parentNode);parentNode.insertBefore(newChild,refChild)}function remove(node){var parentNode=node.parentNode;if(!parentNode)return;saveLightChildrenIfNeeded(parentNode);parentNode.removeChild(node)}function saveLightChildrenIfNeeded(node){if(!node.lightChildren){var children=[];for(var child=node.firstChild;child;child=child.nextSibling){children.push(child);child.lightParent=node}node.lightChildren=children}}var p=Element.prototype;var matchesSelector=p.matches||p.matchesSelector||p.mozMatchesSelector||p.msMatchesSelector||p.oMatchesSelector||p.webkitMatchesSelector});</script></div>

<script>using("Base",function(Base){Base.addFeature({registerFeatures:function(){this._simplexRegister()},_simplexRegister:function(){this._bootMixins();this._bootExtends();this._bootTemplate();this._bootReady();this._bootContent()},initFeatures:function(){this._simplexInit()},_simplexInit:function(){this.poolContent();this.stampTemplate()}})});</script>

