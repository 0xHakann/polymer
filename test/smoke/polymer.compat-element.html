<!doctype html>
<!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
<head>
  <title>Polymer</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="../../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../../polymer.html">
</head>
<body>
  <dom-module id="my-v1-element">
    <template>
      {{name}}: {{foo}}
    </template>
    <script>

    Polymer({
      
      is: 'my-v1-element',

      hostAttributes: {
        bar: 'bar'
      },

      listeners: {
        tap: '_tapHandler'
      },
        
      properties: {
        foo: {
          value: 'foo',
          observer: '_fooHandler'
        },
        name: {
          value: function() {
            return this.localName;
          }
        }
      },

      created: function() {
        console.log('extended!', this.localName);
      },

      attached: function() {
        console.log('attached', this.localName);
      },

      _fooHandler: function() {
        console.log('_fooHandler', this.localName);
      },

      _tapHandler: function() {
        console.log('_tapHandler', this.localName);
      },

    });

    </script>
  </dom-module>

  <dom-module id="well-behaved">
    <template>
      {{name}}: {{sub}}
    </template>
    <script>

    var MyBehavior = {
      
      hostAttributes: {
        behavior: true
      },

      listeners: {
        tap: '_otherTapHandler'
      },

      properties: {
        mixin: {
          value: 'mixin',
          observer: '_mixinHandler'
        },

        name: {
          value: function() {
            return this.localName;
          }
        }
      },

      observers: [
        '_observate(mixin, sub, nug)'
      ],

      ready: function() {
        console.log('MyBehavior.ready');
      },

      _mixinHandler: function() {
        console.log('MyBehavior._mixinHandler', this.localName);
      },

      _otherTapHandler: function() {
        console.log('_otherTapHandler');
      },

      _observate: function(mixin, sub, nug) {
        console.log('_observate', mixin, sub, nug);
      }
        
    }
    
    Polymer({

      is: 'well-behaved',

      behaviors: [
        MyBehavior
      ],

      properties: {
        sub: {
          value: 'sub',
          observer: '_subHandler'
        }
      },

      ready: function() {
        console.log('well-behaved.ready');
      },

      _mixinHandler: function() {
        MyBehavior._mixinHandler.call(this);
        console.log('_mixinHandler', this.localName);
      },

      _subHandler: function() {
        console.log('_subHandler', this.localName);
      }

    });
    </script>
  </dom-module>

  <my-v1-element></my-v1-element>
  <hr>
  <well-behaved></well-behaved>
  
</body>
</html>
