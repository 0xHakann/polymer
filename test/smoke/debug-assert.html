  <script>
    window.wrapDebugger = function(fn) {
      return function() {
        try { fn.apply(this, arguments); }
        catch (e) { debugger; }
      }
    }
    window.debugAssert = function() {
      if (document.location.search.indexOf('debugger=true') > 0) {
        var origAssert = assert;
        assert = wrapDebugger(assert);
        Object.getOwnPropertyNames(origAssert).forEach(function(fn) {
          assert[fn] = wrapDebugger(origAssert[fn]);
        });
      }
    }
  </script>
