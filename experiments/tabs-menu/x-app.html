<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../elements/elements.html">

<style>

  x-app {
    display: block;
    background-color: lightblue;
  }

  x-app #tabs > paper-ripple {
    padding: 10px;
    text-align: center;
  }

  x-app #tabs > paper-ripple[selected],
  x-app #sidetabs > paper-ripple[selected] {
    background-color: green;
  }

  x-app #tabs, x-app #sidetabs {
    background-color: seagreen;
  }

  x-app #pages > paper-ripple {
    font-size: 500px;
  }

  x-app #sidetabs > paper-ripple {
    min-height: 50px;
  }


  #sidetabs {
    width: 200px;
  }

</style>
<template>
  <x-selector id="sidetabs" selectable="paper-ripple">
    <paper-ripple flex>1</paper-ripple>
    <paper-ripple flex>2</paper-ripple>
    <paper-ripple flex>3</paper-ripple>
    <paper-ripple flex>4</paper-ripple>
  </x-selector>
  <section vertical layout flex>
    <x-selector id="tabs" horizontal layout selectable="paper-ripple">
      <paper-ripple flex>1</paper-ripple>
      <paper-ripple flex>2</paper-ripple>
      <paper-ripple flex>3</paper-ripple>
      <paper-ripple flex>4</paper-ripple>
    </x-selector>
    <x-pages id="pages" flex vertical layout>
      <paper-ripple flex vertical center-center layout>1</paper-ripple>
      <paper-ripple flex vertical center-center layout>2</paper-ripple>
      <paper-ripple flex vertical center-center layout>3</paper-ripple>
      <paper-ripple flex vertical center-center layout>4</paper-ripple>
    </x-pages>
  </section>

</template>
<script>
  Polymer({

    name: 'x-app',

    hostAttributes: 'horizontal layout',

    listeners: {
      'tabs.index-changed': 'tabsSelected',
      'sidetabs.index-changed': 'tabsSelected'
    },

    published: {
      selected: Number
    },

    bind: {
      selected: 'selectedChanged'
    },

    created: function() {
      if (this.selected === undefined) {
        this.selected = 0;
      }
    },

    selectedChanged: function(selected) {
      this.$.tabs.index = selected;
      this.$.sidetabs.index = selected;
      this.$.pages.selected = selected;
    },

    tabsSelected: function(e) {
      this.selected = e.target.index;
    }


  });

</script>