<link rel="import" href="../../../polymer/polymer.html">
<link rel="import" href="../../../polymer/data.html">

<style>

  x-bindable {
    display: block;
    padding: 4px;
    line-height: 1.6em;
    border: 2px dotted silver;
  }
</style>

<template>
  
  one_way: <b>{{one_way}}</b> <i>// changes to one-way value never bubble up</i><br>
  two_way: <b>{{two_way}}</b> <i>// changes to two-way can bubble up</i><br>
  read_only: <b>{{read_only}}</b> <i>// read_only cannot be set</i><br>
  structured: <b>{{structured.name}}</b>: <b>{{structured.value}}</b> <i>// structured data (dot notation)</i><br> 
  default: <b>{{default}}</b> <i>// default options</i><br>

</template>

<script>

  Polymer({

    name: 'x-bindable',

    published: {

      one_way: Boolean,

      two_way: {
        type: Number,
        notify: true
      },

      read_only: {
        type: String,
        readOnly: true,
        notify: true
      },

      reflected: {
        type: Object,
        reflect: true
      },

      structured: Object,
      
      'default': String

    },

    created: function() {
      this._set_read_only('good');
      setInterval(function() {
        this.one_way = false;
        this.two_way = (Math.random() * 1000).toFixed(2);
        this.structured
      }.bind(this), 500);
    }

});

</script>

<style>

  x-app {
    display: block;
    padding: 8px;
    line-height: 1.6em;
    border: 3px dotted silver;
  }
</style>

<template>
  
  one_way: <b>{{one_way}}</b> <i>// one-way value only goes down to x-bindable, never bubbles up</i><br>
  two_way: <b>{{two_way}}</b> <i>// two-way value can go to, or come from, x-bindable</i><br>
  read_write: <b>{{read_write}}</b> <i>// `bad` value is bound but not propagated to x-bindable's read_only property</i><br>
  reflected: <b>{{reflected}}</b> <i>// `reflected` value appears in attributes (not implemented)</i><br>

  <br>
  <b>x-bindable one</b>
  
  <x-bindable one_way="{{one_way}}" two_way="{{two_way}}" read_only="{{read_write}}" reflected="{{reflected}}" structured="{{structured}}" default="{{structured.value}}"></x-bindable>

  <br>
  <b>x-bindable two</b>
  
  <x-bindable one_way="{{one_way}}" two_way="{{two_way}}" read_only="{{read_write}}" reflected="{{reflected}}" structured="{{structured}}" default="{{structured.value}}"></x-bindable>
  
</template>

<script>

  Polymer({

    name: 'x-app',

    created: function() {
      this.one_way = true;
      this.two_way = 42;
      this.read_write = 'bad';
      this.reflected = 'dobedowap';
      this.structured = {
        name: 'structured',
        value: 'data'
      };
    }

});

</script>