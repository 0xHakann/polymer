<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../polymer/elements/elements.html">

<style>

  x-app {
    display: block;
    background-color: lightblue;
  }

  x-app #tabs > paper-ripple {
    padding: 10px;
    text-align: center;
  }

  x-app #tabs > paper-ripple[selected] {
    background-color: green;
  }

  x-app #tabs {
    background-color: seagreen;
  }

  x-app #pages paper-ripple {
    font-size: 500px;
  }

</style>
<template>

  <x-selector id="tabs" horizontal layout selectable="paper-ripple">
    <paper-ripple flex>1</paper-ripple>
    <paper-ripple flex>2</paper-ripple>
    <paper-ripple flex>3</paper-ripple>
    <paper-ripple flex>4</paper-ripple>
  </x-selector>

  <x-pages id="pages" flex vertical layout>
    <paper-ripple flex vertical center-center layout>1</paper-ripple>
    <paper-ripple flex vertical center-center layout>2</paper-ripple>
    <paper-ripple flex vertical center-center layout>3</paper-ripple>
    <paper-ripple flex vertical center-center layout>4</paper-ripple>
  </x-pages>

</template>
<script>
  Polymer({

    name: 'x-app',

    hostAttributes: 'vertical layout',

    listeners: {
      'tabs.selected': 'tabsSelected'
    },

    bind: {
      selected: 'selectedChanged'
    },

    created: function() {
      this.attributeChanged('selected');
    },

    attributeChanged: function(name) {
      if (name === 'selected') {
        this.selected = Number(this.getAttribute('selected')) || 0;
      }
    },

    selectedChanged: function(selected) {
      this.$.tabs.selected = selected;
      this.$.pages.selected = selected;
    },

    tabsSelected: function(e) {
      this.selected = e.target.selected;
    }

  });

</script>