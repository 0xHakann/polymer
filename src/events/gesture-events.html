<!--
@license
Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="events.html">
<link rel="import" href="gestures.html">
<script>
(function() {

  'use strict';

  var GestureEvents = Object.create(Polymer.Events);

  // override _listen to handle gestures
  GestureEvents.addListener = function(node, eventName, handler) {
    if (Polymer.Gestures.gestures[eventName]) {
      Polymer.Gestures.add(node, eventName, handler);
    } else {
      Polymer.Events.addListener(node, eventName, handler);
    }
  };

  // override _unlisten to handle gestures
  GestureEvents.removeListener = function(node, eventName, handler) {
    if (Polymer.Gestures.gestures[eventName]) {
      Polymer.Gestures.remove(node, eventName, handler);
    } else {
      Polymer.Events.removeListener(node, eventName, handler);
    }
  };
    
  /**
   * Override scrolling behavior to all direction, one direction, or none.
   *
   * Valid scroll directions:
   *   - 'all': scroll in any direction
   *   - 'x': scroll only in the 'x' direction
   *   - 'y': scroll only in the 'y' direction
   *   - 'none': disable scrolling for this node
   *
   * @method setScrollDirection
   * @param {String=} direction Direction to allow scrolling
   * Defaults to `all`.
   * @param {HTMLElement=} node Element to apply scroll direction setting.
   * Defaults to `this`.
   */
  GestureEvents.setScrollDirection = function(direction, node) {
    Polymer.Gestures.setTouchAction(node, DIRECTION_MAP[direction] || 'auto');
  };

  Polymer.GestureEvents = GestureEvents;

})();
</script>
